<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="一个最适合睡觉的地方！">
    

    <!--Author-->
    
        <meta name="author" content="炭炭">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Unity游戏开发从入门到精通-笔记"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="一个最适合睡觉的地方！" />
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="立志不做游戏人"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

    
        <meta name="twitter:card" content="summary" />
    
    
    

    <!-- Title -->
    
    <title>Unity游戏开发从入门到精通-笔记 - 立志不做游戏人</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/style.css">


    <!-- Google Analytics -->
    


<meta name="generator" content="Hexo 5.2.0"></head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    HOME
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/post">
                    POST
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/tile">
                    TILE
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/tags">
                    TAGS
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/self.html">
                    SELF
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
    </div>
</header>

        <section class="main">
            
<div class="post">

    <div class="post-header">
        <h1 class="title">
            <a href="/2021/01/14/studying/ckroypzhn000wh0vm47g40g3z/">
                Unity游戏开发从入门到精通-笔记
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2021-01-14</span>
            
            
            
                <span class="category">
                    <a href="/categories/studying/">studying</a>
                </span>
            
        </div>
    </div>

    <div class="content">

        <!-- Gallery -->
        

        <!-- Post Content -->
        <p> 课程链接：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Ub411E78v">https://www.bilibili.com/video/BV1Ub411E78v</a></p>
<h1 id="UNITY是什么"><a href="#UNITY是什么" class="headerlink" title="UNITY是什么"></a>UNITY是什么</h1><p>unity是一个<strong>基于组件的游戏引擎</strong></p>
<p><strong>引擎是什么？</strong>引擎是工作中常用功能的整合的程序集</p>
<p><strong>其他的游戏引擎？</strong>还有虚幻、寒霜、Cocos2D等</p>
<h1 id="UNITY能做什么？"><a href="#UNITY能做什么？" class="headerlink" title="UNITY能做什么？"></a>UNITY能做什么？</h1><p>使用unity的游戏开发案例：《王者荣耀》（MOBA类）、《炉石传说》（卡牌类）、《绝地求生：刺激战场》（FPS大逃杀类）、《新仙剑奇侠传OL》（RPG类）、《神庙逃亡》（跑酷休闲类）等</p>
<p>除了可以用于游戏开发，还可以用于工艺仿真（模型仿真）、APP开发（应用unity的安卓、IOS跨平台性）、虚拟现实（VR）、增强现实（AR）、动漫/电影（电影级别渲染）</p>
<h1 id="UNITY的特性"><a href="#UNITY的特性" class="headerlink" title="UNITY的特性"></a>UNITY的特性</h1><ol>
<li>跨/全平台性（同时支持多平台）</li>
<li>组件化（入门简单）</li>
<li>入门简单，编程语言只需学习C#（C sharp）、JS</li>
<li>完全可视化的图形界面，方便操作，“所见即所得”</li>
<li>资源丰富，方便学习</li>
<li>对VR、AR支持最完善</li>
</ol>
<h1 id="职能分工与职业发展规划"><a href="#职能分工与职业发展规划" class="headerlink" title="职能分工与职业发展规划"></a>职能分工与职业发展规划</h1><h2 id="职能分工"><a href="#职能分工" class="headerlink" title="职能分工"></a>职能分工</h2><h3 id="策划类"><a href="#策划类" class="headerlink" title="策划类"></a>策划类</h3><p>主策划、系统策划、数值策划、关卡策划、剧情策划、战斗策划、执行策划、</p>
<h3 id="程序类"><a href="#程序类" class="headerlink" title="程序类"></a>程序类</h3><p>主程序、<strong>服务端</strong>（将服务器的信息传递到客户端）、<strong>客户端</strong>（将服务器的信息显示到前端客户端，客户端储存战斗逻辑，包括UNITY开发工程师）、工具开发（为程序员提供开发工具）、运营数据系统（更新维护、数据库）</p>
<h3 id="美术类"><a href="#美术类" class="headerlink" title="美术类"></a>美术类</h3><p>主美术、原画师、3D建筑、3D角色、骨骼动画、粒子特效、地形编辑、UI界面</p>
<h2 id="发展规划"><a href="#发展规划" class="headerlink" title="发展规划"></a>发展规划</h2><p>UNITY开发工程师→主程序→开发总监</p>
<img src="/2021/01/14/studying/ckroypzhn000wh0vm47g40g3z/image-20210114180711094.png" class title="职能分工">

<h1 id="安装UNITY"><a href="#安装UNITY" class="headerlink" title="安装UNITY"></a>安装UNITY</h1><p>官网<a target="_blank" rel="noopener" href="http://www.unity3d.com/">www.unity3d.com</a></p>
<p>下载后会出现Editor文件夹和MonoDevelop文件夹，其中EDITOR是编辑器文件夹，MonoDevelop是内置的代码编辑器，但实际上用vs的会更多一些</p>
<p>个人版可应付大多功能，游戏发布、盈利需要购买专业版</p>
<h1 id="初识UNITY"><a href="#初识UNITY" class="headerlink" title="初识UNITY"></a>初识UNITY</h1><h2 id="新建与打开"><a href="#新建与打开" class="headerlink" title="新建与打开"></a>新建与打开</h2><p>add asset package-导入资源包</p>
<img src="/2021/01/14/studying/ckroypzhn000wh0vm47g40g3z/image-20210115105939509.png" class title="unity开始使用界面">

<h2 id="unity的项目结构"><a href="#unity的项目结构" class="headerlink" title="unity的项目结构"></a>unity的项目结构</h2><p>一个项目由若干个<strong>场景</strong>组成的，而一个场景是由若干个<strong>游戏对象</strong>组成的；场景中所有能看到的物体，还包括光、声音、风都是游戏对象；而每个游戏对象身上由若干个<strong>组件</strong>组成，组件可以理解为一个个功能；每个组件中又有若干个<strong>属性</strong>。</p>
<p>unity是<strong>基于组件</strong>的游戏引擎</p>
<h2 id="初识界面"><a href="#初识界面" class="headerlink" title="初识界面"></a>初识界面</h2><h3 id="工具栏："><a href="#工具栏：" class="headerlink" title="工具栏："></a>工具栏：</h3><p>FILE（新建、打开文件）、EDIT（编辑）、ASSETS（资源包）、GAME OBJECT（游戏对象）、COMPONENT（组件）、WINDOW（窗口）、</p>
<p><strong>按钮说明：</strong>Scene-场景，Undo-撤销，Redo-重做，Dublicate-生成副本，preference-偏好设置，show in explorer-在文件管理器中打开，import package-导入资源，export package-导出资源包，empty-空物体，effects-特效，</p>
<h3 id="面板："><a href="#面板：" class="headerlink" title="面板："></a>面板：</h3><h4 id="layout界面布局："><a href="#layout界面布局：" class="headerlink" title="layout界面布局："></a>layout界面布局：</h4><p>layout-面板布局方式，save layout-保存自定义布局，revert factory settings-恢复出厂设置</p>
<h4 id="project项目面板："><a href="#project项目面板：" class="headerlink" title="project项目面板："></a>project项目面板：</h4><p>项目面板用于<strong>管理资源文件</strong></p>
<p>project面板和assets文件夹相通</p>
<p>点击“三条杠”可设置一页或两页布局</p>
<p>拖动文件可直接导入资源</p>
<h4 id="scene场景面板："><a href="#scene场景面板：" class="headerlink" title="scene场景面板："></a>scene场景面板：</h4><p>场景面板用来<strong>编辑场景、列出所有的游戏对象</strong></p>
<h4 id="game游戏面板："><a href="#game游戏面板：" class="headerlink" title="game游戏面板："></a>game游戏面板：</h4><p>游戏面板即玩家看到的面板，即用来<strong>预览效果</strong></p>
<p>场景面板由场景中的摄像机拍摄到，摄像机可以有多个摄像机</p>
<h4 id="hierarchy层级面板："><a href="#hierarchy层级面板：" class="headerlink" title="hierarchy层级面板："></a>hierarchy层级面板：</h4><p>层级面板用来管理场景中所有的<strong>游戏对象</strong>/物体</p>
<p>将所有游戏对象以层级形式列举出来</p>
<h4 id="inspector检视面板："><a href="#inspector检视面板：" class="headerlink" title="inspector检视面板："></a>inspector检视面板：</h4><p>显示一个游戏对象上的<strong>组件及组件上的属性</strong>，可以用来设置组件和调整组件</p>
<h1 id="实现简单的场景"><a href="#实现简单的场景" class="headerlink" title="实现简单的场景"></a>实现简单的场景</h1><h2 id="左手坐标系"><a href="#左手坐标系" class="headerlink" title="左手坐标系"></a>左手坐标系</h2><p>场景面板右上角有一个坐标轴</p>
<p>空间坐标系：unity中使用的是<strong>左手坐标系</strong>，在数学中是右手坐标系</p>
<p>左手坐标系即，用左手中指、无名指、小指与掌心垂直，拇指展开，拇指为x轴，食指为y轴，中指为z轴。其中，z轴的方向与右手坐标系中的方向相反</p>
<h2 id="场景的基本操作"><a href="#场景的基本操作" class="headerlink" title="场景的基本操作"></a>场景的基本操作</h2><p>生成对象-在工具栏object选项下选择或在层级面板右键选择生成对象</p>
<p>旋转场景-按住鼠标右键拖拽或按住alt+鼠标左键拖拽</p>
<p>锁定旋转-点击坐标轴右上角的锁图标</p>
<p>缩放场景-滑动鼠标滚轮或按alt+鼠标右键拖拽</p>
<p>拖动场景-按住鼠标中键或选中手工具拖拽场景，快捷键为“q”键</p>
<p>移动游戏对象-选择十字工具显示物体的坐标轴，按住一条轴或一个面可拖拽向一个方向或在一个面上运动，快捷键为“w”键</p>
<p>快速找到游戏对象-在层级面板中双击对应选项或在层级面板选中后鼠标放在场景面板中按下“f”键</p>
<p>旋转游戏对象-选择旋转工具鼠标按住圆中的线轴拖拽，快捷键为“e”键</p>
<p>缩放游戏对象-选择缩放工具鼠标按住轴上的方块拖动，快捷键为“r”键</p>
<p>等比缩放游戏对象-选择缩放工具鼠标按住轴中心拖动</p>
<p>延展游戏对象-选择延展工具鼠标按住顶点拖动，快捷键为“t”键</p>
<p>切换中心点-切换到“center”拖动中间的坐标轴是以中心点为基准移动多个游戏对象；切换到“pivot”拖动一个游戏对象上的坐标轴是以选中对象为基准移动多个游戏对象，二者切换的快捷键是“z”键</p>
<p>切换坐标系-切换到“global”使用世界坐标“东西南北”；切换“local”使用自身坐标“前后左右”</p>
<p>切换中心点、坐标系可结合其他操作</p>
<h2 id="transform组件"><a href="#transform组件" class="headerlink" title="transform组件"></a>transform组件</h2><p>在检视面板中，transform选项显示所选中物体的位置、旋转角度、缩放尺寸</p>
<h2 id="其他游戏对象"><a href="#其他游戏对象" class="headerlink" title="其他游戏对象"></a>其他游戏对象</h2><p>游戏对象不只有cube（方块），还有sphere（球体）、capsule（胶囊体）、cylinders（圆柱体）、plane（平面）、quad（平面）等。unity场景中的面由一个个三角形构成，其中plane与quad之间区别在于plane包含的三角形更多、精细度更高、碰撞更真实灵敏，而quad只由两个三角形组成、较粗糙</p>
<p>复杂的场景需要<strong>父子物体</strong>实现。有些时候父物体是一个<strong>空物体</strong>，而这时空物体的组件只有一个transform</p>
<h2 id="父子物体关系"><a href="#父子物体关系" class="headerlink" title="父子物体关系"></a>父子物体关系</h2><p>创建父子物体关系方便游戏对象管理，也便于实现预设体</p>
<p>一个游戏对象只能有一个父物体，可以有多个子物体</p>
<p>移动、旋转、缩放子物体不会对父物体有任何改变，但移动、旋转、缩放父物体会对所有子物体同时产生改变</p>
<p>子物体的移动、旋转、缩放都是相对于父物体的，保持父子物体间相对不变</p>
<p>unity中距离长度单位是米（m）</p>
<h1 id="面向组件"><a href="#面向组件" class="headerlink" title="面向组件"></a>面向组件</h1><p>放置一个空物体empty。会发现empty只有一个坐标轴，是不可见的；在检视面板中可以看到<strong>empty的组件只有一个transform</strong></p>
<p>transform是一个游戏对象的<strong>最基本的组件</strong>，决定物体的大小位置角度，且不能被移除</p>
<p>在检视面板中组件随时可以移除或添加。</p>
<p>建立一个物体cube，在检视面板中可以看到更多的组件。假如把除transform外的组件移除后→remove component，该物体cube变成空物体且不可见</p>
<p>同样对empty添加组件也可以使之成为cube，添加组件→add component→选择组件mesh filter→选择cube形状，添加组件→add component→选择组件mesh renderer→设置材质material→选择default material-默认材质</p>
<h2 id="组件是什么："><a href="#组件是什么：" class="headerlink" title="组件是什么："></a>组件是什么：</h2><p>组件就是一个具有一定功能的一个集合。如果希望某个游戏对象有某种功能，只需为这个游戏对象添加对应的组件即可。但unity提供的组件有限，有时需要自己写脚本实现想要的功能</p>
<h2 id="组件类型："><a href="#组件类型：" class="headerlink" title="组件类型："></a>组件类型：</h2><p>mesh filter-网格过滤器，决定了游戏对象的<strong>形状</strong>，可以设置物体的形状</p>
<p>mesh renderer-网格渲染器，决定了游戏对象的<strong>外观展示</strong>，其中可以设置material-材质 和light-光照</p>
<h1 id="材质的使用"><a href="#材质的使用" class="headerlink" title="材质的使用"></a>材质的使用</h1><p>mesh renderer组件中的material选项是材质属性。材质决定了一个游戏对象的外观</p>
<h2 id="材质的新建与应用"><a href="#材质的新建与应用" class="headerlink" title="材质的新建与应用"></a>材质的新建与应用</h2><p>在项目面板中右键可新建创建新的material即材质。在检视面板中可以对新的组件进行修改，比如修改颜色可以选择调色板修改颜色。因为材质属于资源文件，保存在项目面板中。若要将这一新建的组件应用给游戏对象，只需从项目面板中拖动material下的该组件到场景面板中的游戏对象上即可</p>
<h2 id="材质的批量修改"><a href="#材质的批量修改" class="headerlink" title="材质的批量修改"></a>材质的批量修改</h2><p>在层级面板选中多个游戏对象，在检视面板中material选项中选择对应材质</p>
<h2 id="选择图片作为材质"><a href="#选择图片作为材质" class="headerlink" title="选择图片作为材质"></a>选择图片作为材质</h2><p>打开material选项点击albedo，在assets中选择图片。或者直接将项目面板中的图片资源拖动到material选项下“albedo”中。将此材质应用给游戏对象，将项目面板中该材质拖动到场景面板中游戏对象即可</p>
<h1 id="预设体（prefab）"><a href="#预设体（prefab）" class="headerlink" title="预设体（prefab）"></a>预设体（prefab）</h1><p>预设体可以将某个游戏对象<strong>以文件形式</strong>存储起来。作用是批量管理游戏对象。</p>
<h2 id="预设体的生成"><a href="#预设体的生成" class="headerlink" title="预设体的生成"></a>预设体的生成</h2><p>将层级面板中的游戏对象拖动到项目面板中，即可生成对应预设体。预设体文件的后缀为“.prefab”</p>
<h2 id="预设体的修改"><a href="#预设体的修改" class="headerlink" title="预设体的修改"></a>预设体的修改</h2><p>修改预设体会对所有预设体生成的游戏对象产生改变</p>
<p>给一个预设体添加组件，所有由这个预设体生成的游戏对象都会产生这个组件</p>
<p>一但单独修改过一个游戏对象，那么预设体的改变不会对这个游戏对象再产生影响。但对该对象revert-还原操作后再次对预设体修改，会对该物体产生影响</p>
<h2 id="prefab操作"><a href="#prefab操作" class="headerlink" title="prefab操作"></a>prefab操作</h2><p>用预设体生成的游戏对象会显示prefab操作选项，其中包括：</p>
<h3 id="select-选定"><a href="#select-选定" class="headerlink" title="select-选定"></a>select-选定</h3><p>快速找到这个游戏对象的预设体文件</p>
<h3 id="revert-还原"><a href="#revert-还原" class="headerlink" title="revert-还原"></a>revert-还原</h3><p>将游戏对象的组件和属性<strong>还原</strong>为预设体中的定义</p>
<h3 id="apply-应用"><a href="#apply-应用" class="headerlink" title="apply-应用"></a>apply-应用</h3><p>将游戏对象的组件及属性应用给预设体，与revert方向相反</p>
<h1 id="资源包的导出导入"><a href="#资源包的导出导入" class="headerlink" title="资源包的导出导入"></a>资源包的导出导入</h1><p>我们可以把项目中用到的资源打包导出，用资源包管理项目</p>
<h2 id="如何导出？"><a href="#如何导出？" class="headerlink" title="如何导出？"></a>如何导出？</h2><p>在项目面板中右键发现export new assets-导入新资源、import package-导入资源包、export package-导出资源包。点击“export package”会弹出选项框，选中要打包的资源即可。导出的资源包后缀为“.unitypackage”</p>
<h2 id="如何导入？"><a href="#如何导入？" class="headerlink" title="如何导入？"></a>如何导入？</h2><p>有3种方法：</p>
<ol>
<li>可以将资源包文件夹直接拖动到项目面板中，弹出选项框选择要导入的文件即可</li>
<li>在项目面板中右键点击import package→custom package-自定义资源包找到要导入的文件，弹出选项框选择要导入的文件即可</li>
<li>打开unity后，双击文件夹中的资源包，回到unity也会弹出选项框选择要导入的文件即可</li>
</ol>
<p>系统标准资源包是standard assets，其存放路径为：unity安装路径\editor\standard assets</p>
<h1 id="地形系统"><a href="#地形系统" class="headerlink" title="地形系统"></a>地形系统</h1><p>terrain-地形。terrain有三个组件，分别是transform、terrain-地形、terrain collider三个组件</p>
<h2 id="terrain地形组件"><a href="#terrain地形组件" class="headerlink" title="terrain地形组件"></a>terrain地形组件</h2><p>在层级面板右键选择3d object→terrain，加入游戏对象——地形</p>
<p>在检视面板中可以看到terrain地形有terrain组件。组件中有多个选项操作</p>
<p>在生成地形后，项目面板中会出现new terrain。这个文件是不可删除的，其中记录着对地形做出的改动；否则地形将不可编辑</p>
<h3 id="上升地形"><a href="#上升地形" class="headerlink" title="上升地形"></a>上升地形</h3><p>上升地形可以让指定地形抬高或下降。鼠标按住抬升地形，同时按住shift键下降地形。但不会产生地面凹陷，只能抹平</p>
<p>brushes-笔刷样式，控制抬高的形状</p>
<p>opacity-笔刷硬度，控制抬高的灵敏度</p>
<h3 id="恒高地形"><a href="#恒高地形" class="headerlink" title="恒高地形"></a>恒高地形</h3><p>使地形的高度为设定的高度-height，</p>
<p>读取高度：按住shift键鼠标悬停特定地形，height值发生改变；按住shift同时点击鼠标滑动可使地形改变为读取的的高度</p>
<p>flatten：将特定height值应用到整个地形，抬高整个地形</p>
<h3 id="平滑地形"><a href="#平滑地形" class="headerlink" title="平滑地形"></a>平滑地形</h3><p>过于尖锐的地形比较消耗机器性能，所以需要一定的平滑</p>
<p>使棱角分明的地形变得圆滑</p>
<h3 id="绘制地面纹理"><a href="#绘制地面纹理" class="headerlink" title="绘制地面纹理"></a>绘制地面纹理</h3><p>textures-纹理</p>
<p>点击edit textures添加纹理，选择图片为纹理图案。第一个添加的纹理会作用给全部地形；选入新建的纹理后，因为已经有纹理设置在地形上，所以再次设置不会自动设置纹理，需要手动绘制</p>
<p>target strength-透明度</p>
<h3 id="植被地形"><a href="#植被地形" class="headerlink" title="植被地形"></a>植被地形</h3><p>点击edit trees可以添加植被，弹出选项框在trees prefab-植被预设体中选择预设体，用鼠标滑动可放置植被。按住shift或ctrl可以抹除植被</p>
<p>trees textures-植被纹理</p>
<p>tree density-植被密度</p>
<p>tree height-树高，树高可以随机也可以在给定范围内随机</p>
<p>lock width to height-锁定宽高比，选定可以保证植被不会变形</p>
<p>random tree rotation-随机植被角度</p>
<p>此时brush size可以控制植被的个数，但density只能影响单位范围内植被的稀疏</p>
<p>官方提供的植被资源包在项目面板中右键选择import package→environment</p>
<h3 id="草被地形"><a href="#草被地形" class="headerlink" title="草被地形"></a>草被地形</h3><p>grass textures-草被纹理</p>
<h3 id="地形设置"><a href="#地形设置" class="headerlink" title="地形设置"></a>地形设置</h3><p>terrain width-地形宽度，使整个地形x轴方向变化</p>
<p>terrain height-地形高度，使整个地形y轴方向变化</p>
<p>terrain length-地形长度，使整个地形z轴方向变化</p>
<h2 id="water河流设置"><a href="#water河流设置" class="headerlink" title="water河流设置"></a>water河流设置</h2><p>在项目面板中选择standard assets→environment→water，其中有prefabs可以直接添加</p>
<h2 id="characters角色设置"><a href="#characters角色设置" class="headerlink" title="characters角色设置"></a>characters角色设置</h2><p>在项目面板中右键选择import package导入资源包→characters。导入后点击项目面板中的standard assets→characters，其中包括first person与third person及各自的预设体。将其中的<strong>rigid body fps controller</strong>拖动到场景面板中，便有角色视角及角色移动。</p>
<h1 id="rigid-body刚体组件"><a href="#rigid-body刚体组件" class="headerlink" title="rigid body刚体组件"></a>rigid body刚体组件</h1><p>刚体组件提供了模拟现实生活中的物理效果，包括重力加速度、摩擦力、弹力及碰撞</p>
<p>引擎中一些游戏对象不符合现实生活中的物理规律，比如重力、碰撞的作用。如果想给某物体添加这样的效果，可以在检视面板中add component→rigid body。rigid body为刚体组件。</p>
<p>一个游戏对象有collider碰撞体组件但没有rigid body刚体组件，则永远不会受力作用</p>
<p>rigid body组件中有多个属性：mass-质量、drag-拉力（物体运动方向上的阻力）、angular drag-旋转拉力、use gravity-使用重力、is kinematic-开启运动学、interpolate-内插值、collision detection-碰撞检测机制、constraints-约束。</p>
<h2 id="kinematic运动学属性"><a href="#kinematic运动学属性" class="headerlink" title="kinematic运动学属性"></a>kinematic运动学属性</h2><p>is kinematic-开启运动学。开启运动学后的游戏对象获得无限大的质量，并不受任何力的作用但能够对其他任何物体造成力的作用。</p>
<h2 id="constraints约束"><a href="#constraints约束" class="headerlink" title="constraints约束"></a>constraints约束</h2><p>freeze position-锁定位移，锁定该物体使之不向某一方向移动</p>
<p>freeze rotation-锁定旋转，锁定该物体使之不沿某轴旋转</p>
<h1 id="collider碰撞体组件"><a href="#collider碰撞体组件" class="headerlink" title="collider碰撞体组件"></a>collider碰撞体组件</h1><p>collider-碰撞体</p>
<p>两个物体发生碰撞，实际上发生碰撞的是<strong>碰撞体</strong>。不同物体有着不同形状的碰撞体组件</p>
<p>碰撞的条件是：两个物体都要有碰撞体，且两个物体间至少其中一个有刚体</p>
<p>collider组件可以进行编辑→edit collider，在编辑中可以在场景面板中拖动该游戏对象的点改变其形状大小，从而控制物体的碰撞</p>
<p>is trigger-触发器</p>
<p>material-物理材质</p>
<p>center-中心，若为(0,0)则是以加入的游戏对象的中心点为正中心</p>
<h2 id="collider组件的添加"><a href="#collider组件的添加" class="headerlink" title="collider组件的添加"></a>collider组件的添加</h2><p>检视面板add component→physics→选择想要加入的collider组件即可</p>
<p>当游戏对象添加为球形碰撞体时且地形为斜坡，则该物体将会向下滚动</p>
<h2 id="physic-material物理材质组件"><a href="#physic-material物理材质组件" class="headerlink" title="physic material物理材质组件"></a>physic material物理材质组件</h2><p>新建物理材质组件：在项目面板中右键create→physic material添加物理材质组件并选择，检视面板中显示该材质组件的属性。</p>
<p>dynamic friction-动态摩擦力，有相对位移时的摩擦力</p>
<p>static friction-静态摩擦力，没有相对位移时的摩擦力</p>
<p>bounciness-弹力</p>
<p>friction combine-组合摩擦力，为参与摩擦力的多个物体各自施加摩擦力的<strong>取值方式</strong>，可以设置取值方式为mini最小值、max最大值、aver平均值或multi乘积</p>
<p>当一个物理材质的组件在检视面板设置好后，可以打开游戏对象的检视面板，并将要使用的物理材质组件拖动到该对象的检视面板→collider→material中</p>
<p>如果一个物体没有设置物理材质，那么默认该物体摩擦力为无穷大。如果组合摩擦力为无穷大时，运动的物体即将不能正常活动，相应地应该适当调整组合摩擦力的取值方式</p>
<p>bounce combine-组合弹力，为参与弹力的多个物体各自施加弹力的<strong>取值方式</strong>，可以设置取值方式为mini最小值、max最大值、aver平均值或multi乘积</p>
<p>摩擦力与弹力相反，当摩擦力为无穷大时，弹力为零。如果一个物体没有设置物理材质，那么默认该物体弹力为0。</p>
<h1 id="角色移动的控制"><a href="#角色移动的控制" class="headerlink" title="角色移动的控制"></a>角色移动的控制</h1><p>保证将要移动的模型的z轴为前方</p>
<p>在检视面板可以看到一个模型身上的组件包括transform和animation</p>
<p>用预设体生成的游戏对象会显示prefab操作选项；用模型生成的游戏对象会显示model操作选项</p>
<p>在项目面板中点开模型可以看到模型的组成部分、网格以及动作，拖动其中一个动作到animation组件中的animation-动画属性可以替换为其他动作</p>
<p>在项目面板点击一个动作，检视面板点击右上角齿轮可以定义设置。其中wrap mode-循环模式，可以修改动画播放的模式为once-播放一次、loop-循环播放、或clamp forever-结尾静止三种。</p>
<p>要想控制角色移动，需要获取摇杆的移动角度，利用水平轴的偏移量h和垂直轴的偏移量v，用反三角函数arctan(h/v)获取夹角的角度；也可以用向量求得。</p>
<img src="/2021/01/14/studying/ckroypzhn000wh0vm47g40g3z/image-20210117141605023.png" class title="图示">

<p>在项目面板右键→create→c# script，新建成的脚本文件会呈现在项目面板中，双击可打开编辑。</p>
<p>用c#代码实现键盘方向键控制游戏对象的行走：</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MoveControl</span> : <span class="title">MonoBehavior</span> &#123;</span><br><span class="line">    <span class="comment">//Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span> (<span class="params"></span>)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">float</span> horizontal = <span class="function">Input <span class="title">GetAxies</span>(<span class="params"><span class="string">&quot;Horizontal&quot;</span></span>)</span>;</span><br><span class="line">        <span class="built_in">float</span> vertical = <span class="function">Input <span class="title">GetAxies</span>(<span class="params"><span class="string">&quot;vertical&quot;</span></span>)</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//算出方向向量。vector3用来表示三维坐标系，也可以用来表示三维向量</span></span><br><span class="line">        Vector3 direction = <span class="keyword">new</span> Vector3(horizontal,<span class="number">0</span>,vertical);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//判断是否有位移</span></span><br><span class="line">        <span class="keyword">if</span> (direction != Vector3.zero) &#123;</span><br><span class="line">            <span class="comment">//做出走的动画</span></span><br><span class="line">            transform.GetComponent&lt;Animation&gt;().CrossFade(<span class="string">&quot;walk&quot;</span>);</span><br><span class="line">            <span class="comment">//将角色旋转至指定方向</span></span><br><span class="line">            transform.rotation = Quaternion.LookRotation(direction);</span><br><span class="line">            <span class="comment">//移动角色</span></span><br><span class="line">            transform.Translate(Vector3,forward * <span class="number">1</span> * Time.deltaTime);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//让龙作出站立动画</span></span><br><span class="line">            transform.GetComponent&lt;Animation&gt;().CrossFade(<span class="string">&quot;idle&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>代码编辑完成后可从项目面板拖动给层级面板中要应用的游戏对象，点击上方的播放开始运行。</p>
<h1 id="AR项目的实现"><a href="#AR项目的实现" class="headerlink" title="AR项目的实现"></a>AR项目的实现</h1><p>AR是指增强现实，在现实世界的物体之上做一些虚拟的物体。</p>
<p>学生中一般常用的是高通的开发版本，可以在vuforia官网申请。申请完毕后下载高通的sdk并配置到项目中；</p>
<p>下载download for unity版本后，在unity新建项目并把sdk导入到unity项目中并使用；</p>
<ol>
<li><p>配置license key：</p>
<p>1.1.  到高通官网申请license key；</p>
<img src="/2021/01/14/studying/ckroypzhn000wh0vm47g40g3z/image-20210117161851683.png" class title="许可证管理1">

<img src="/2021/01/14/studying/ckroypzhn000wh0vm47g40g3z/image-20210117162054352.png" class title="许可证管理2">

<p>1.2.  将申请到的key配置到项目中。申请成功后在官网点击项目名称，查看key；unity项目面板中的resource，点击vuforia configuration，将key复制到app license key框中；</p>
<p>1.3.  上传ar中要用到的图片（基于什么图片呈现AR功能）到高通官网：</p>
<p>1.3.1.  add database。设置数据库的名称及性质；</p>
<img src="/2021/01/14/studying/ckroypzhn000wh0vm47g40g3z/image-20210117163056639.png" class title="扫描图管理">

<p>1.3.2.  进入新建的数据库，点击add target上传图片注意格式和命名</p>
<p>1.3.3.  上传后会显示评分rate，尽量不要太低于三颗星</p>
<p>1.4.  下载在高通官网创建的数据库，并导入到项目中</p>
</li>
<li><p>配置项目：</p>
<p>3.1.  从文件夹拖动unity package文件到unity项目面板中进行导入;</p>
<p>3.2.  把main camera从层级面板中删除；</p>
<p>3.3.  调用AR Camera。在项目面板中点开vuforia→prefabs→AR Camera，拖动到层级面板中；</p>
<p>3.4.  使用Image Target。在项目面板中点开vuforia→prefabs→Image Target，拖动到层级面板中；注意Image Target的transform属性应该是0,0,0；</p>
<p>3.5.  配置Image Target。点击Image Target对象，在检视面板中可以看到组件及属性；其中Image Target Behavior组件的database属性点击存放的数据库；</p>
<p>3.6.  配置vuforia configuration。点击该对象，在检视面板中可以看到属性；其中datasets属性选中load AR demo database以及activate。</p>
</li>
<li><p>放置要出现的虚拟物体。将要扫描出现的物体拖入场景面板中并作为Image Target的子物体</p>
</li>
</ol>
<p>“[]”表示闭区间，0≤x≤1；“()”表示开区间，0&lt;x&lt;1</p>

    </div>

    

    

    <!-- Comments -->
    

</div>
        </section>

    </div>
</div>


</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    你好谢谢小笼包再见
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2021/03/27/studying/ckroypzhb0009h0vmeuwb7di1/">游戏玩法设计</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2021/02/20/studying/ckroypzhp0011h0vm3y5e4urw/">华科游戏学导论-笔记</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2021/02/20/interview/ckroypzi10024h0vm1skdgnm7/">个人面试准备</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2021/02/20/studying/ckroypzha0007h0vm92gderj4/">游戏制作工具箱-笔记</a>
            </li>
            
        </ul>
    </div>



            
<div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 footer-categories">
    <h2>Categories</h2>
    <ul>
        
        <li>
            <a class="footer-post" href="/categories/reading/">reading</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/interview/">interview</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/studying/">studying</a>
        </li>
        
    </ul>
</div>

        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://github.com/RYME1314">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:a17334063461@163.com">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="\#">
                            <span class="footer-icon-container">
                                <i class="fa fa-rss"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @Untitled. All right reserved | Design & Hexo <a target="_blank" rel="noopener" href="http://www.codeblocq.com/">Jonathan Klughertz</a>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->

<script src="/js/main.js"></script>


<!-- Disqus Comments -->



</body>

</html>